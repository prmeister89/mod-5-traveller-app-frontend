{"ast":null,"code":"var URL = \"http://localhost:3000/trips\";\n\nfunction changeSearchText(value) {\n  return {\n    type: \"CHANGE_SEARCH_TEXT\",\n    value: value\n  };\n}\n\nfunction loadingSpecificTripLuggageList() {\n  return {\n    type: \"FETCHING_SPECIFIC_TRIP_LUGGAGE_LIST\"\n  };\n}\n\nfunction loadingSpecificTrip() {\n  return {\n    type: \"FETCHING_SPECIFIC_TRIP\"\n  };\n}\n\nfunction loadingTrips() {\n  return {\n    type: \"FETCHING_TRIPS\"\n  };\n}\n\nfunction fetchedTrips(trips) {\n  return {\n    type: \"FETCHED_TRIPS\",\n    trips: trips\n  };\n}\n\nfunction fetchTrips() {\n  return function (dispatch) {\n    dispatch(loadingTrips());\n    fetch(URL).then(function (res) {\n      return res.json();\n    }).then(function (trips) {\n      return dispatch(fetchedTrips(trips));\n    });\n  };\n}\n\nfunction fetchedSpecificTrip(trip) {\n  return {\n    type: \"FETCHED_SPECIFIC_TRIP\",\n    trip: trip\n  };\n}\n\nfunction fetchSpecificTrip(tripId) {\n  return function (dispatch, getState) {\n    var trip = getState().trips.find(function (trip) {\n      return trip.id === tripId;\n    });\n    dispatch(loadingSpecificTrip());\n    fetch(\"\".concat(URL, \"/\").concat(tripId)).then(function (res) {\n      return res.json();\n    }).then(function (trip) {\n      return dispatch(fetchedSpecificTrip(trip));\n    });\n  };\n}\n\nfunction fetchedSpecificTripLuggageList(tripLuggageList) {\n  return {\n    type: \"FETCHED_SPECIFIC_TRIP_LUGGAGE_LIST\",\n    tripLuggageList: tripLuggageList\n  };\n}\n\nfunction fetchSpecificTripLuggageList(tripId) {\n  return function (dispatch, getState) {\n    var trip = getState().trips.find(function (trip) {\n      return trip.id === tripId;\n    });\n    var tripLuggageList = trip.luggages;\n    dispatch(loadingSpecificTripLuggageList());\n    fetch(\"\".concat(URL, \"/\").concat(tripId, \"/luggage\")).then(function (res) {\n      return res.json();\n    }).then(function (trip) {\n      return dispatch(fetchedSpecificTrip(tripLuggageList));\n    });\n  };\n}\n\nfunction fetchedSpecificTripFlightInfoList(tripFlightInfoList) {\n  return {\n    type: \"FETCHED_SPECIFIC_TRIP_FLIGHT_INFO_LIST\",\n    tripFlightInfoList: tripFlightInfoList\n  };\n}\n\nfunction fetchSpecificTripFlightInfoList(tripId) {\n  return function (dispatch, getState) {\n    var trip = getState().trips.find(function (trip) {\n      return trip.id === tripId;\n    });\n    var tripFlightInfoList = trip.flights;\n    dispatch(loadingSpecificTripFlightInfoList());\n    fetch(\"\".concat(URL, \"/\").concat(tripId, \"/flights\")).then(function (res) {\n      return res.json();\n    }).then(function (trip) {\n      return dispatch(fetchedSpecificTrip(tripLuggageList));\n    });\n  };\n}\n\nfunction tripAdded(trip) {\n  return {\n    type: \"TRIP_ADDED\",\n    trip: trip\n  };\n}\n\nfunction addTrip(_ref) {\n  var trip = _ref.trip;\n  return function (dispatch) {\n    dispatch(loadingTrips());\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        trip: trip\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return dispatch(tripAdded(json));\n    });\n  };\n}\n\nfunction luggageItemAdded(newItem) {\n  console.log(\"luggageItemAdded function:\", newItem);\n  return {\n    type: \"LUGGAGE_ITEM_ADDED\",\n    newItem: newItem\n  };\n}\n\nfunction addLuggageItem(newItem) {\n  console.log(\"addLuggageItem\", newItem);\n  return function (dispatch) {\n    fetch(\"\".concat(URL, \"/\").concat(newItem.trip_id, \"/luggages\"), {\n      method: 'POST',\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newItem)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return dispatch(luggageItemAdded(json));\n    });\n  };\n}\n\nfunction luggageItemDeleted(item) {\n  console.log(\"luggageItemDeleted function:\", item);\n  return {\n    type: \"LUGGAGE_ITEM_DELETED\",\n    item: item\n  };\n}\n\nfunction deleteLuggageItem(itemId, tripId) {\n  console.log(itemId, tripId);\n  return function (dispatch) {\n    fetch(\"\".concat(URL, \"/\").concat(tripId, \"/luggages/\").concat(itemId), {\n      method: 'DELETE',\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(itemId)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return dispatch(luggageItemDeleted(json));\n    });\n  };\n}\n\nfunction tripUpdated(trip) {\n  return {\n    type: \"TRIP_UPDATED\",\n    trip: trip\n  };\n}\n\nfunction updateTrip(_ref2) {\n  var payload = _ref2.payload,\n      tripId = _ref2.tripId;\n  return function (dispatch, getState) {\n    var trip = getState().trips.find(function (trip) {\n      return trip.id === tripId;\n    });\n    fetch(\"\".concat(URL, \"/\").concat(tripId), {\n      method: \"PATCH\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        location: payload.location,\n        startDate: payload.startDate,\n        endDate: payload.endDate,\n        notes: payload.notes\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (trip) {\n      return dispatch(tripUpdated(trip));\n    });\n  };\n}\n\nfunction luggageUpdated(item) {\n  return {\n    type: \"UPDATE_LUGGAGE\",\n    item: item\n  };\n}\n\nfunction updateLuggageItems(_ref3) {\n  var payload = _ref3.payload,\n      tripId = _ref3.tripId;\n  console.log(payload);\n  return function (dispatch, getState) {\n    // const trip = getState().trips.find(trip => trip.id === tripId);\n    fetch(\"\".concat(URL, \"/\").concat(tripId), {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        luggage: payload.luggageArray\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (item) {\n      return console.log(item);\n    });\n  };\n}\n\nexport { changeSearchText, fetchTrips, updateTrip, addTrip, addLuggageItem, deleteLuggageItem, updateLuggageItems, fetchSpecificTrip, fetchSpecificTripLuggageList };","map":{"version":3,"sources":["/Users/flatironschool/The_Construct/traveller/traveller-frontend/src/redux/actions.js"],"names":["URL","changeSearchText","value","type","loadingSpecificTripLuggageList","loadingSpecificTrip","loadingTrips","fetchedTrips","trips","fetchTrips","dispatch","fetch","then","res","json","fetchedSpecificTrip","trip","fetchSpecificTrip","tripId","getState","find","id","fetchedSpecificTripLuggageList","tripLuggageList","fetchSpecificTripLuggageList","luggages","fetchedSpecificTripFlightInfoList","tripFlightInfoList","fetchSpecificTripFlightInfoList","flights","loadingSpecificTripFlightInfoList","tripAdded","addTrip","method","headers","body","JSON","stringify","luggageItemAdded","newItem","console","log","addLuggageItem","trip_id","luggageItemDeleted","item","deleteLuggageItem","itemId","tripUpdated","updateTrip","payload","location","startDate","endDate","notes","luggageUpdated","updateLuggageItems","luggage","luggageArray"],"mappings":"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","sourcesContent":["const URL = \"http://localhost:3000/trips\";\n\nfunction changeSearchText(value) {\n  return { type: \"CHANGE_SEARCH_TEXT\", value: value };\n}\n\nfunction loadingSpecificTripLuggageList() {\n  return { type: \"FETCHING_SPECIFIC_TRIP_LUGGAGE_LIST\" };\n}\n\nfunction loadingSpecificTrip() {\n  return { type: \"FETCHING_SPECIFIC_TRIP\" };\n}\n\nfunction loadingTrips() {\n  return { type: \"FETCHING_TRIPS\" };\n}\n\nfunction fetchedTrips(trips) {\n  return { type: \"FETCHED_TRIPS\", trips}\n}\n\nfunction fetchTrips() {\n  return dispatch => {\n    dispatch(loadingTrips());\n    fetch(URL)\n      .then(res => res.json())\n      .then(trips => dispatch(fetchedTrips(trips)))\n  }\n}\n\nfunction fetchedSpecificTrip(trip) {\n  return { type: \"FETCHED_SPECIFIC_TRIP\", trip}\n}\n\nfunction fetchSpecificTrip(tripId) {\n  return function(dispatch, getState) {\n    const trip = getState().trips.find(trip => trip.id === tripId);\n    dispatch(loadingSpecificTrip());\n    fetch(`${URL}/${tripId}`)\n      .then(res => res.json())\n      .then(trip => dispatch(fetchedSpecificTrip(trip)))\n  }\n}\n\nfunction fetchedSpecificTripLuggageList(tripLuggageList) {\n  return { type: \"FETCHED_SPECIFIC_TRIP_LUGGAGE_LIST\", tripLuggageList}\n}\n\nfunction fetchSpecificTripLuggageList(tripId) {\n  return function(dispatch, getState) {\n    const trip = getState().trips.find(trip => trip.id === tripId);\n    const tripLuggageList = trip.luggages\n    dispatch(loadingSpecificTripLuggageList());\n    fetch(`${URL}/${tripId}/luggage`)\n      .then(res => res.json())\n      .then(trip => dispatch(fetchedSpecificTrip(tripLuggageList)))\n  }\n}\n\nfunction fetchedSpecificTripFlightInfoList(tripFlightInfoList) {\n  return { type: \"FETCHED_SPECIFIC_TRIP_FLIGHT_INFO_LIST\", tripFlightInfoList}\n}\n\nfunction fetchSpecificTripFlightInfoList(tripId) {\n  return function(dispatch, getState) {\n    const trip = getState().trips.find(trip => trip.id === tripId);\n    const tripFlightInfoList = trip.flights\n    dispatch(loadingSpecificTripFlightInfoList());\n    fetch(`${URL}/${tripId}/flights`)\n      .then(res => res.json())\n      .then(trip => dispatch(fetchedSpecificTrip(tripLuggageList)))\n  }\n}\n\nfunction tripAdded(trip) {\n  return { type: \"TRIP_ADDED\", trip };\n}\n\nfunction addTrip({ trip }) {\n  return dispatch => {\n    dispatch(loadingTrips());\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify({ trip })\n      })\n      .then(res => res.json())\n      .then(json => dispatch(tripAdded(json)))\n  }\n}\n\nfunction luggageItemAdded(newItem) {\n  console.log(\"luggageItemAdded function:\",newItem)\n  return { type: \"LUGGAGE_ITEM_ADDED\", newItem };\n}\n\nfunction addLuggageItem(newItem) {\n  console.log(\"addLuggageItem\", newItem)\n  return dispatch => {\n    fetch(`${URL}/${newItem.trip_id}/luggages`, {\n      method: 'POST',\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify(newItem)\n    })\n    .then(res => res.json())\n    .then(json => dispatch(luggageItemAdded(json)))\n  }\n}\n\nfunction luggageItemDeleted(item) {\n  console.log(\"luggageItemDeleted function:\", item)\n  return { type: \"LUGGAGE_ITEM_DELETED\", item };\n}\n\nfunction deleteLuggageItem(itemId, tripId) {\n  console.log(itemId, tripId)\n  return dispatch => {\n    fetch(`${URL}/${tripId}/luggages/${itemId}`, {\n      method: 'DELETE',\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify(itemId)\n    })\n    .then(res => res.json())\n    .then(json => dispatch(luggageItemDeleted(json)))\n  }\n}\n\n\nfunction tripUpdated(trip) {\n  return { type: \"TRIP_UPDATED\", trip };\n}\n\nfunction updateTrip({ payload, tripId }) {\n  return function(dispatch, getState) {\n    const trip = getState().trips.find(trip => trip.id === tripId);\n    fetch(`${URL}/${tripId}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify({\n        location: payload.location,\n        startDate: payload.startDate,\n        endDate: payload.endDate,\n        notes: payload.notes\n      })\n    })\n    .then(res => res.json())\n    .then(trip => dispatch(tripUpdated(trip)))\n  }\n}\n\nfunction luggageUpdated(item) {\n  return { type: \"UPDATE_LUGGAGE\", item };\n}\n\nfunction updateLuggageItems({ payload, tripId }) {\n  console.log(payload)\n  return function(dispatch, getState) {\n    // const trip = getState().trips.find(trip => trip.id === tripId);\n    fetch(`${URL}/${tripId}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\":\"application/json\",\n        \"Accept\":\"application/json\"\n      },\n      body: JSON.stringify({\n        luggage: payload.luggageArray\n      })\n    })\n    .then(res => res.json())\n\n    .then(item => console.log(item))\n  }\n}\n\nexport {\n  changeSearchText,\n  fetchTrips,\n  updateTrip,\n  addTrip,\n  addLuggageItem,\n  deleteLuggageItem,\n  updateLuggageItems ,\n  fetchSpecificTrip,\n  fetchSpecificTripLuggageList\n}\n"]},"metadata":{},"sourceType":"module"}