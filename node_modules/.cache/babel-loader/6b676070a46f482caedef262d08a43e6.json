{"ast":null,"code":"var URL = \"http://localhost:3000/trips\";\n\nfunction changeSearchText(value) {\n  return {\n    type: \"CHANGE_SEARCH_TEXT\",\n    value: value\n  };\n}\n\nfunction loadingTrips() {\n  return {\n    type: \"FETCHING_TRIPS\"\n  };\n}\n\nfunction fetchedTrips(trips) {\n  return {\n    type: \"FETCHED_TRIPS\",\n    trips: trips\n  };\n}\n\nfunction fetchTrips() {\n  return function (dispatch) {\n    dispatch(loadingTrips());\n    fetch(URL).then(function (res) {\n      return res.json();\n    }).then(function (trips) {\n      return dispatch(fetchedTrips(trips));\n    });\n  };\n}\n\nfunction tripAdded(trip) {\n  console.log(trip);\n  return {\n    type: \"TRIP_ADDED\",\n    trip: trip\n  };\n}\n\nfunction addTrip(_ref) {\n  var trip = _ref.trip;\n  return function (dispatch) {\n    dispatch(loadingTrips());\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        trip: trip\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return dispatch(tripAdded(json));\n    });\n  };\n}\n\nfunction luggageItemAdded(newItem) {\n  console.log(newItem);\n  return {\n    type: \"LUGGAGE_ITEM_ADDED\",\n    newItem: newItem\n  };\n}\n\nfunction addLuggageItem(_ref2, tripId) {\n  var newItem = _ref2.newItem;\n  console.log(newItem);\n  return function (dispatch) {\n    dispatch(loadingTrips());\n    fetch(\"\".concat(URL, \"/\").concat(tripId, \"/luggages\"), {\n      method: 'POST',\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        newItem: newItem\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return console.log(json);\n    });\n  };\n}\n\nfunction tripUpdated(trip) {\n  return {\n    type: \"TRIP_UPDATED\",\n    trip: trip\n  };\n}\n\nfunction updateTrip(_ref3) {\n  var payload = _ref3.payload,\n      tripId = _ref3.tripId;\n  return function (dispatch, getState) {\n    var trip = getState().trips.find(function (trip) {\n      return trip.id === tripId;\n    });\n    fetch(\"\".concat(URL, \"/\").concat(tripId), {\n      method: \"PATCH\",\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        location: payload.location,\n        startDate: payload.startDate,\n        endDate: payload.endDate,\n        notes: payload.notes\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (trip) {\n      return dispatch(tripUpdated(trip));\n    });\n  };\n}\n\nfunction luggageUpdated(item) {\n  return {\n    type: \"UPDATE_LUGGAGE\",\n    item: item\n  };\n}\n\nfunction updateLuggageItems(_ref4) {\n  var payload = _ref4.payload,\n      tripId = _ref4.tripId;\n  console.log(payload);\n  return function (dispatch, getState) {\n    // const trip = getState().trips.find(trip => trip.id === tripId);\n    fetch(\"\".concat(URL, \"/\").concat(tripId), {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        luggage: payload.luggageArray\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (item) {\n      return console.log(item);\n    });\n  };\n}\n\nexport { changeSearchText, fetchTrips, updateTrip, addTrip, addLuggageItem, updateLuggageItems };","map":{"version":3,"sources":["/Users/flatironschool/The_Construct/traveller/traveller-frontend/src/redux/actions.js"],"names":["URL","changeSearchText","value","type","loadingTrips","fetchedTrips","trips","fetchTrips","dispatch","fetch","then","res","json","tripAdded","trip","console","log","addTrip","method","headers","body","JSON","stringify","luggageItemAdded","newItem","addLuggageItem","tripId","tripUpdated","updateTrip","payload","getState","find","id","location","startDate","endDate","notes","luggageUpdated","item","updateLuggageItems","luggage","luggageArray"],"mappings":"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","sourcesContent":["const URL = \"http://localhost:3000/trips\";\n\nfunction changeSearchText(value) {\n  return { type: \"CHANGE_SEARCH_TEXT\", value: value };\n}\n\nfunction loadingTrips() {\n  return { type: \"FETCHING_TRIPS\" };\n}\n\nfunction fetchedTrips(trips) {\n  return { type: \"FETCHED_TRIPS\", trips}\n}\n\nfunction fetchTrips() {\n  return dispatch => {\n    dispatch(loadingTrips());\n    fetch(URL)\n      .then(res => res.json())\n      .then(trips => dispatch(fetchedTrips(trips)))\n  }\n}\n\nfunction tripAdded(trip) {\n  console.log(trip)\n  return { type: \"TRIP_ADDED\", trip };\n}\n\nfunction addTrip({ trip }) {\n  return dispatch => {\n    dispatch(loadingTrips());\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify({ trip })\n      })\n      .then(res => res.json())\n      .then(json => dispatch(tripAdded(json)))\n  }\n}\n\nfunction luggageItemAdded(newItem) {\n  console.log(newItem)\n  return { type: \"LUGGAGE_ITEM_ADDED\", newItem };\n}\n\nfunction addLuggageItem({ newItem }, tripId) {\n  console.log(newItem)\n  return dispatch => {\n    dispatch(loadingTrips());\n    fetch(`${URL}/${tripId}/luggages`, {\n      method: 'POST',\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify({ newItem })\n    })\n    .then(res => res.json())\n    .then(json => console.log(json))\n  }\n}\n\nfunction tripUpdated(trip) {\n  return { type: \"TRIP_UPDATED\", trip };\n}\n\nfunction updateTrip({ payload, tripId }) {\n  return function(dispatch, getState) {\n    const trip = getState().trips.find(trip => trip.id === tripId);\n    fetch(`${URL}/${tripId}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Accept\":\"application/json\",\n        \"Content-Type\":\"application/json\"\n      },\n      body: JSON.stringify({\n        location: payload.location,\n        startDate: payload.startDate,\n        endDate: payload.endDate,\n        notes: payload.notes\n      })\n    })\n    .then(res => res.json())\n    .then(trip => dispatch(tripUpdated(trip)))\n  }\n}\n\nfunction luggageUpdated(item) {\n  return { type: \"UPDATE_LUGGAGE\", item };\n}\n\nfunction updateLuggageItems({ payload, tripId }) {\n  console.log(payload)\n  return function(dispatch, getState) {\n    // const trip = getState().trips.find(trip => trip.id === tripId);\n    fetch(`${URL}/${tripId}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\":\"application/json\",\n        \"Accept\":\"application/json\"\n      },\n      body: JSON.stringify({\n        luggage: payload.luggageArray\n      })\n    })\n    .then(res => res.json())\n    .then(item => console.log(item))\n  }\n}\n\nexport { changeSearchText, fetchTrips, updateTrip, addTrip, addLuggageItem, updateLuggageItems }\n"]},"metadata":{},"sourceType":"module"}